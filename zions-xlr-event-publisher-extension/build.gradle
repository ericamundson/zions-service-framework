//bootJar {
//	enabled = true
//	mainClassName = 'none'
//	archiveName = 'zions-xlr-event-publisher-extension.jar'
//	//version =  "${version}"
//}
bootJar {
	enabled = false
}
jar {
	enabled = false
	//baseName = 'zions-xlr-event-publisher-extension'
}
task buildJar(type: Jar) {
	manifest {
		attributes(
				'Main-Class': 'none'
		)
	}
	zip64 = true
	classifier = 'all'
	baseName = 'zions-xlr-event-publisher-extension'
	from {
		configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
		 }
			{
				exclude "META-INF/*.SF"
				exclude "META-INF/*.DSA"
				exclude "META-INF/*.RSA"
				exclude "META-INF/NOTICE"
				exclude "META-INF/license.*"
				exclude "META-INF/LICENSE.*"
				exclude "META-INF/groovy*.*"
			}
	with jar
}

dependencies {
	compile 'org.springframework.boot:spring-boot-starter'
	compile('org.springframework.cloud:spring-cloud-starter-vault-config')
	compile 'com.xebialabs.xlrelease:xlr-api:9.5.0'
	compile project(':zions-vsts-microservice')
	//compile project(':zions-xlr-services')
	//compile project(':zions-common')
	//compile fileTree(include: ['*.jar'], dir: 'libs')
}

build.dependsOn 'buildJar'